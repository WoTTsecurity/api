{% extends "admin_base.html" %}

{% load bootstrap4 %}

{% load static %}
{% load highlight_selector %}

{% block title %}WoTT - Dashboard{% endblock title %}

{% block dashboard_title %}
  <h1 style="margin-bottom: 0">Settings</h1>
{% endblock dashboard_title %}

{% block admin_content %}
  <div class="container-fluid">


    <div id="inner-settings" class="row wott-box-shadow">
      
      <div id="settings-nav" class="card mb-0 border-0 h-auto col-md-3 pr-0">
        <div class="border-0 bg-white pl-2 py-2 my-2">
          {% with url_name=request.resolver_match.url_name %}
          <!-- <div class="list-group list-group-flush" role="tablist"> -->
            <div class="sidebar-item my-2 {% if url_name|is_menu_highlight_id:'profile' %}active{% endif %}">
              <a class="sidebar-link py-3 px-0 d-flex border-0 {{ tab_account }}"
              href="{% url 'profile' %}" role="tab">
                {% if url_name|is_menu_highlight_id:'profile' %}
                <img src="{% static '/media/account.png' %}" alt="account">
                {% else %}
                <img src="{% static '/media/account-unselected.png' %}" alt="account">
                {% endif %}
                <h4>Account</h4>
              </a>
            </div>
            <div class="sidebar-item my-2 {% if url_name|is_menu_highlight_id:'profile_password' %}active{% endif %}">
              <a class="sidebar-link py-3 px-0 d-flex border-0 {{ tab_password }}"
                href="{% url 'profile_password' %}" role="tab">
                {% if url_name|is_menu_highlight_id:'profile_password' %}
                <img src="{% static '/media/password-selected.png' %}" alt="password">
                {% else %}
                <img src="{% static '/media/password.png' %}" alt="password">
                {% endif %}
                <h4>Password</h4>
              </a>
            </div>
            <div class="sidebar-item my-2 {% if url_name|is_menu_highlight_id:'profile_token' %}active{% endif %}">
              <a class="sidebar-link py-3 px-0 d-flex border-0  {{ tab_api_token }}"
                href="{% url 'profile_token' %}" role="tab">
                {% if url_name|is_menu_highlight_id:'profile_token' %}
                <img src="{% static '/media/api-selected.png' %}" alt="api">
                {% else %}
                <img src="{% static '/media/api-token.png' %}" alt="api">
                {% endif %}
                <h4>API Token</h4>
              </a>
            </div>
            <div class="sidebar-item my-2 {% if url_name|is_menu_highlight_id:'github_integration' %}active{% endif %}">
              <a class="sidebar-link px-0 py-3 d-flex border-0 {{ tab_github_integration }}"
                href="{% url 'github_integration' %}" role="tab">
                {% if url_name|is_menu_highlight_id:'github_integration' %}
                <img src="{% static '/media/github-selected.png' %}" alt="github">
                {% else %}
                <img src="{% static '/media/github.png' %}" alt="github">
                {% endif %}
                <h4>GitHub Integration</h4>
                <span class="badge badge-danger wott-badge-position">Beta</span>
              </a>
            </div>
            <div class="sidebar-item my-2 {% if url_name|is_menu_highlight_id:'slack_integration' %}active{% endif %}">
              <a class="sidebar-link py-3 px-0 d-flex border-0 {{ tab_slack_integration }}"
                href="{% url 'slack_integration' %}" role="tab">
                {% if url_name|is_menu_highlight_id:'slack_integration' %}
                <img src="{% static '/media/slack-selected-blue.png' %}" alt="github">
                {% else %}
                <img src="{% static '/media/slack.png' %}" alt="slack">
                {% endif %}
                <h4>Slack Integration</h4>
              </a>
            </div>
            <div class="sidebar-item my-2 {% if url_name|is_menu_highlight_id:'payment_plan' %}active{% endif %}">
              <a class="sidebar-link py-3 px-0 d-flex border-0 {{ tab_payment_plan }}"
                href="{% url 'payment_plan' %}" role="tab">
                {% if url_name|is_menu_highlight_id:'payment_plan' %}
                <img src="{% static '/media/payment-selected.png' %}" alt="github">
                {% else %}
                <img src="{% static '/media/payment.png' %}" alt="github">
                {% endif %}
                <h4>Payment Plan</h4>
              </a>
            </div>
        </div>
      </div>
      {% endwith %}

      <div class="col-md-9 pl-0">
        <div class="tab-content">
          <div class="tab-pane fade show active" id="account" role="tabpanel">
            {% block profile_content %}
            {% endblock %}
          </div>
        </div>
      </div>
    </div>
  </div>

  <style>
    .sidebar-item h4 {
      color: #646d7f;
      margin-bottom: 0;
      font-size: .95rem;
      font-weight: 600;
      width: 65%;
    }

    .sidebar-item img {
      padding-right: 5%;
    }

    .sidebar-item.active {
      border-right: 5px solid #2460c7;
    }

    #inner-settings {
      border-radius: 8px;
    }

    #settings-nav {
      border-top-left-radius: 8px;
      border-bottom-left-radius: 8px;
      min-height: 600px;
    }
  </style>
{% endblock %}
